{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eyal cohen\\\\unica-label\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useRef, useState } from \"react\";\nimport { PDFDocument } from \"pdf-lib\";\n\n// Helper conversions\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MM_TO_PT = 2.8346456693; // 1 mm = 2.8346 pt\n\nfunction mmToPt(mm) {\n  return mm * MM_TO_PT;\n}\nfunction clamp(n, min, max) {\n  return Math.max(min, Math.min(max, n));\n}\n\n// Common page sizes in mm\nconst PAGE_PRESETS = {\n  A4: {\n    width: 210,\n    height: 297\n  },\n  Letter: {\n    width: 215.9,\n    height: 279.4\n  }\n};\nconst defaultSettings = {\n  cols: 3,\n  rows: 11,\n  pagePreset: \"A4\",\n  pageWidthMm: PAGE_PRESETS.A4.width,\n  pageHeightMm: PAGE_PRESETS.A4.height,\n  offsetXmm: 8,\n  // whole-grid X offset (left margin)\n  offsetYmm: 12,\n  // whole-grid Y offset (top margin)\n  gutterXmm: 3,\n  // spacing between columns\n  gutterYmm: 3 // spacing between rows\n};\nexport default function App() {\n  _s();\n  const [settings, setSettings] = useState(defaultSettings);\n  const [driveFolderUrl, setDriveFolderUrl] = useState(\"\");\n  const [useDrivePicker, setUseDrivePicker] = useState(false);\n  const [cellImages, setCellImages] = useState(() => Array(settings.rows * settings.cols).fill(null));\n  const fileInputRef = useRef(null);\n  const targetIndexRef = useRef(null);\n  const {\n    cols,\n    rows,\n    pagePreset,\n    pageWidthMm,\n    pageHeightMm,\n    offsetXmm,\n    offsetYmm,\n    gutterXmm,\n    gutterYmm\n  } = settings;\n\n  // Recompute array if rows/cols ever change (they're fixed by spec 3x11, but keep robust)\n  const totalCells = rows * cols;\n  React.useEffect(() => {\n    setCellImages(prev => {\n      const next = Array(totalCells).fill(null);\n      for (let i = 0; i < Math.min(prev.length, next.length); i++) next[i] = prev[i];\n      return next;\n    });\n  }, [totalCells]);\n  const geometry = useMemo(() => {\n    const w = pageWidthMm;\n    const h = pageHeightMm;\n    const gridWidth = w - 2 * offsetXmm - (cols - 1) * gutterXmm;\n    const gridHeight = h - 2 * offsetYmm - (rows - 1) * gutterYmm;\n    const cellWidth = gridWidth / cols;\n    const cellHeight = gridHeight / rows;\n    return {\n      pageMm: {\n        w,\n        h\n      },\n      cellMm: {\n        w: cellWidth,\n        h: cellHeight\n      }\n    };\n  }, [pageWidthMm, pageHeightMm, offsetXmm, offsetYmm, gutterXmm, gutterYmm, cols, rows]);\n  const pickLocalFileForCell = index => {\n    targetIndexRef.current = index;\n    if (fileInputRef.current) fileInputRef.current.click();\n  };\n  const onLocalFileChosen = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file || targetIndexRef.current == null) return;\n    const index = targetIndexRef.current;\n    const objectUrl = URL.createObjectURL(file);\n    setCellImages(prev => {\n      const next = [...prev];\n      next[index] = {\n        file,\n        url: objectUrl,\n        name: file.name,\n        type: file.type\n      };\n      return next;\n    });\n    // reset so same file can be re-picked\n    e.target.value = \"\";\n  };\n  const clearCell = index => {\n    setCellImages(prev => {\n      const next = [...prev];\n      const item = next[index];\n      if (item !== null && item !== void 0 && item.url) URL.revokeObjectURL(item.url);\n      next[index] = null;\n      return next;\n    });\n  };\n  const handleSettingNumber = (key, step = 1) => e => {\n    const val = Number(e.target.value);\n    setSettings(s => ({\n      ...s,\n      [key]: isNaN(val) ? s[key] : val\n    }));\n  };\n  const handlePresetChange = e => {\n    const preset = e.target.value;\n    if (preset === \"Custom\") {\n      setSettings(s => ({\n        ...s,\n        pagePreset: preset\n      }));\n    } else {\n      const p = PAGE_PRESETS[preset];\n      setSettings(s => ({\n        ...s,\n        pagePreset: preset,\n        pageWidthMm: p.width,\n        pageHeightMm: p.height\n      }));\n    }\n  };\n  const allCellsFilled = cellImages.every(c => c);\n  const downloadPdf = async () => {\n    // Build a 1-page PDF with images placed by exact mm coordinates\n    const pdfDoc = await PDFDocument.create();\n    const page = pdfDoc.addPage([mmToPt(settings.pageWidthMm), mmToPt(settings.pageHeightMm)]);\n    const embedCache = new Map();\n    const getEmbed = async file => {\n      var _file$type;\n      const buf = await file.arrayBuffer();\n      if ((_file$type = file.type) !== null && _file$type !== void 0 && _file$type.includes(\"png\")) {\n        return pdfDoc.embedPng(buf);\n      }\n      // default to jpg, pdf-lib also supports some other formats but jpg/png are safest\n      return pdfDoc.embedJpg(buf);\n    };\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const idx = r * cols + c;\n        const item = cellImages[idx];\n        const xMm = offsetXmm + c * (geometry.cellMm.w + gutterXmm);\n        const yMmTop = offsetYmm + r * (geometry.cellMm.h + gutterYmm);\n        const yMmFromBottom = settings.pageHeightMm - yMmTop - geometry.cellMm.h; // PDF origin is bottom-left\n\n        // draw a light border even if empty\n        const rectX = mmToPt(xMm);\n        const rectY = mmToPt(yMmFromBottom);\n        const rectW = mmToPt(geometry.cellMm.w);\n        const rectH = mmToPt(geometry.cellMm.h);\n        page.drawRectangle({\n          x: rectX,\n          y: rectY,\n          width: rectW,\n          height: rectH,\n          borderWidth: 0.5,\n          color: undefined,\n          borderColor: undefined\n        });\n        if (item !== null && item !== void 0 && item.file) {\n          let img = embedCache.get(item.file);\n          if (!img) {\n            img = await getEmbed(item.file);\n            embedCache.set(item.file, img);\n          }\n          // Fit image into cell while maintaining aspect ratio\n          const imgWpt = img.width;\n          const imgHpt = img.height;\n          const maxW = rectW;\n          const maxH = rectH;\n          const scale = Math.min(maxW / imgWpt, maxH / imgHpt);\n          const drawW = imgWpt * scale;\n          const drawH = imgHpt * scale;\n          const dx = rectX + (rectW - drawW) / 2;\n          const dy = rectY + (rectH - drawH) / 2;\n          page.drawImage(img, {\n            x: dx,\n            y: dy,\n            width: drawW,\n            height: drawH\n          });\n        }\n      }\n    }\n    const bytes = await pdfDoc.save();\n    const blob = new Blob([bytes], {\n      type: \"application/pdf\"\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `labels_${settings.pagePreset || 'custom'}.pdf`;\n    a.click();\n    setTimeout(() => URL.revokeObjectURL(url), 2000);\n  };\n  const printPage = () => {\n    // Open a new tab with a print-optimized HTML using mm units\n    const w = window.open(\"\", \"_blank\");\n    const {\n      w: pageW,\n      h: pageH\n    } = {\n      w: settings.pageWidthMm,\n      h: settings.pageHeightMm\n    };\n    const style = `\n      <style>\n        @page { size: ${pageW}mm ${pageH}mm; margin: 0; }\n        * { box-sizing: border-box; }\n        body { margin: 0; }\n        .page { width: ${pageW}mm; height: ${pageH}mm; position: relative; }\n        .cell {\n          position: absolute; overflow: hidden; border: 0.3mm solid #999;\n          display: flex; align-items: center; justify-content: center;\n        }\n        img { max-width: 100%; max-height: 100%; display: block; }\n      </style>\n    `;\n    const cellsHtml = [];\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const idx = r * cols + c;\n        const item = cellImages[idx];\n        const x = settings.offsetXmm + c * (geometry.cellMm.w + settings.gutterXmm);\n        const y = settings.offsetYmm + r * (geometry.cellMm.h + settings.gutterYmm);\n        const styleCell = `left:${x}mm; top:${y}mm; width:${geometry.cellMm.w}mm; height:${geometry.cellMm.h}mm;`;\n        const imgHtml = item !== null && item !== void 0 && item.url ? `<img src=\"${item.url}\" alt=\"cell\" />` : \"\";\n        cellsHtml.push(`<div class=\"cell\" style=\"${styleCell}\">${imgHtml}</div>`);\n      }\n    }\n    const html = `<!doctype html><html><head><meta charset='utf-8'/>${style}</head><body><div class='page'>${cellsHtml.join(\"\")}</div><script>window.onload=()=>window.print();</script></body></html>`;\n    w.document.open();\n    w.document.write(html);\n    w.document.close();\n  };\n  const Cell = ({\n    index,\n    preview\n  }) => {\n    const item = cellImages[index];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => pickLocalFileForCell(index),\n      className: \"relative group cursor-pointer bg-white/80 border border-gray-300 hover:border-blue-500 rounded-xl overflow-hidden flex items-center justify-center\",\n      title: (item === null || item === void 0 ? void 0 : item.name) || \"Click to choose image\",\n      children: [item !== null && item !== void 0 && item.url ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: item.url,\n        alt: \"label\",\n        className: \"max-w-full max-h-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-gray-400\",\n        children: \"Click to add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this), item && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          clearCell(index);\n        },\n        className: \"absolute top-1 right-1 bg-white/90 border border-gray-300 rounded-md px-1.5 py-0.5 text-xs shadow-sm hover:bg-red-50\",\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this);\n  };\n  const GridPreview = () => {\n    const cells = [];\n    const {\n      w: cellW,\n      h: cellH\n    } = geometry.cellMm;\n    for (let r = 0; r < rows; r++) {\n      for (let c = 0; c < cols; c++) {\n        const idx = r * cols + c;\n        cells.push(/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: `${cellW}mm`,\n            height: `${cellH}mm`,\n            marginRight: c < cols - 1 ? `${gutterXmm}mm` : 0,\n            marginBottom: r < rows - 1 ? `${gutterYmm}mm` : 0\n          },\n          children: /*#__PURE__*/_jsxDEV(Cell, {\n            index: idx\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this));\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto bg-[conic-gradient(at_top_left,_#fafafa,_#f1f5f9)] shadow-xl rounded-2xl p-6\",\n        style: {\n          width: `${pageWidthMm}mm`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto bg-white rounded-xl border border-gray-300 p-0\",\n          style: {\n            width: `${pageWidthMm - offsetXmm * 2}mm`,\n            padding: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              paddingLeft: `${offsetXmm}mm`,\n              paddingRight: `${offsetXmm}mm`,\n              paddingTop: `${offsetYmm}mm`,\n              paddingBottom: `${offsetYmm}mm`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap\",\n              children: cells\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen w-full bg-slate-50 text-slate-800\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      className: \"hidden\",\n      onChange: onLocalFileChosen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"sticky top-0 z-10 backdrop-blur bg-white/70 border-b border-slate-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-xl font-semibold\",\n          children: \"Label Sheet Builder (3 \\xD7 11)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: printPage,\n            className: \"px-3 py-2 rounded-xl border border-slate-300 shadow-sm hover:shadow bg-white\",\n            children: \"Print\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: downloadPdf,\n            className: \"px-3 py-2 rounded-xl border border-blue-600 bg-blue-600 text-white shadow hover:opacity-95\",\n            children: \"Download PDF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-[360px,1fr] gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-white rounded-2xl shadow p-4 border border-slate-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium\",\n              children: \"Page preset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: pagePreset,\n              onChange: handlePresetChange,\n              className: \"mt-1 w-full border rounded-xl p-2\",\n              children: [Object.keys(PAGE_PRESETS).map(k => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: k,\n                children: [k, \" (\", PAGE_PRESETS[k].width, \" \\xD7 \", PAGE_PRESETS[k].height, \" mm)\"]\n              }, k, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Custom\",\n                children: \"Custom\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Page width (mm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: pageWidthMm,\n                onChange: handleSettingNumber(\"pageWidthMm\"),\n                disabled: pagePreset !== \"Custom\",\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Page height (mm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: pageHeightMm,\n                onChange: handleSettingNumber(\"pageHeightMm\"),\n                disabled: pagePreset !== \"Custom\",\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Grid offset X (mm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: offsetXmm,\n                onChange: handleSettingNumber(\"offsetXmm\"),\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Grid offset Y (mm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: offsetYmm,\n                onChange: handleSettingNumber(\"offsetYmm\"),\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Column spacing (mm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: gutterXmm,\n                onChange: handleSettingNumber(\"gutterXmm\"),\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Row spacing (mm)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: gutterYmm,\n                onChange: handleSettingNumber(\"gutterYmm\"),\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Columns\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: cols,\n                min: 1,\n                max: 6,\n                onChange: handleSettingNumber(\"cols\"),\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm\",\n                children: \"Rows\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: rows,\n                min: 1,\n                max: 50,\n                onChange: handleSettingNumber(\"rows\"),\n                className: \"mt-1 w-full border rounded-xl p-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pt-2 border-t\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium\",\n              children: \"Linked Google Drive folder (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              placeholder: \"https://drive.google.com/drive/folders/...\",\n              value: driveFolderUrl,\n              onChange: e => setDriveFolderUrl(e.target.value),\n              className: \"mt-1 w-full border rounded-xl p-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"usePicker\",\n                type: \"checkbox\",\n                checked: useDrivePicker,\n                onChange: e => setUseDrivePicker(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"usePicker\",\n                className: \"text-sm\",\n                children: \"Enable Google Drive Picker (requires API key & client ID)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), useDrivePicker && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => alert(\"Google Picker not configured in this preview. In your deployment, load gapi + picker APIs and call picker to insert into a selected cell.\"),\n              className: \"mt-2 px-3 py-2 rounded-xl border border-slate-300 bg-white shadow hover:shadow-sm\",\n              children: \"Pick from Drive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-slate-500 mt-2\",\n              children: \"Tip: Start by clicking any cell to choose a local image. Drive integration can be added by wiring the Google Picker API to the currently selected cell index.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"bg-white rounded-2xl shadow p-4 border border-slate-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"Live preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: [\"Cell size: \", geometry.cellMm.w.toFixed(2), \" \\xD7 \", geometry.cellMm.h.toFixed(2), \" mm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(GridPreview, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 text-xs text-slate-500\",\n          children: \"Click a cell to add an image. Use the settings to match your label sheet. Borders are for guidance only and won\\u2019t print as thick lines.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"max-w-7xl mx-auto px-4 py-6 text-center text-xs text-slate-500\",\n      children: \"Built with React + pdf-lib. Images are fit within each cell preserving aspect ratio.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"nh5a9TIwEbTz8iBShszQTF+D4T8=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useMemo","useRef","useState","PDFDocument","jsxDEV","_jsxDEV","MM_TO_PT","mmToPt","mm","clamp","n","min","max","Math","PAGE_PRESETS","A4","width","height","Letter","defaultSettings","cols","rows","pagePreset","pageWidthMm","pageHeightMm","offsetXmm","offsetYmm","gutterXmm","gutterYmm","App","_s","settings","setSettings","driveFolderUrl","setDriveFolderUrl","useDrivePicker","setUseDrivePicker","cellImages","setCellImages","Array","fill","fileInputRef","targetIndexRef","totalCells","useEffect","prev","next","i","length","geometry","w","h","gridWidth","gridHeight","cellWidth","cellHeight","pageMm","cellMm","pickLocalFileForCell","index","current","click","onLocalFileChosen","e","_e$target$files","file","target","files","objectUrl","URL","createObjectURL","url","name","type","value","clearCell","item","revokeObjectURL","handleSettingNumber","key","step","val","Number","s","isNaN","handlePresetChange","preset","p","allCellsFilled","every","c","downloadPdf","pdfDoc","create","page","addPage","embedCache","Map","getEmbed","_file$type","buf","arrayBuffer","includes","embedPng","embedJpg","r","idx","xMm","yMmTop","yMmFromBottom","rectX","rectY","rectW","rectH","drawRectangle","x","y","borderWidth","color","undefined","borderColor","img","get","set","imgWpt","imgHpt","maxW","maxH","scale","drawW","drawH","dx","dy","drawImage","bytes","save","blob","Blob","a","document","createElement","href","download","setTimeout","printPage","window","open","pageW","pageH","style","cellsHtml","styleCell","imgHtml","push","html","join","write","close","Cell","preview","onClick","className","title","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","stopPropagation","GridPreview","cells","cellW","cellH","marginRight","marginBottom","padding","paddingLeft","paddingRight","paddingTop","paddingBottom","ref","accept","onChange","Object","keys","map","k","disabled","placeholder","id","checked","htmlFor","alert","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/eyal cohen/unica-label/src/App.jsx"],"sourcesContent":["import React, { useMemo, useRef, useState } from \"react\";\r\nimport { PDFDocument } from \"pdf-lib\";\r\n\r\n// Helper conversions\r\nconst MM_TO_PT = 2.8346456693; // 1 mm = 2.8346 pt\r\n\r\nfunction mmToPt(mm) {\r\n  return mm * MM_TO_PT;\r\n}\r\n\r\nfunction clamp(n, min, max) {\r\n  return Math.max(min, Math.min(max, n));\r\n}\r\n\r\n// Common page sizes in mm\r\nconst PAGE_PRESETS = {\r\n  A4: { width: 210, height: 297 },\r\n  Letter: { width: 215.9, height: 279.4 },\r\n};\r\n\r\nconst defaultSettings = {\r\n  cols: 3,\r\n  rows: 11,\r\n  pagePreset: \"A4\",\r\n  pageWidthMm: PAGE_PRESETS.A4.width,\r\n  pageHeightMm: PAGE_PRESETS.A4.height,\r\n  offsetXmm: 8, // whole-grid X offset (left margin)\r\n  offsetYmm: 12, // whole-grid Y offset (top margin)\r\n  gutterXmm: 3, // spacing between columns\r\n  gutterYmm: 3, // spacing between rows\r\n};\r\n\r\nexport default function App() {\r\n  const [settings, setSettings] = useState(defaultSettings);\r\n  const [driveFolderUrl, setDriveFolderUrl] = useState(\"\");\r\n  const [useDrivePicker, setUseDrivePicker] = useState(false);\r\n  const [cellImages, setCellImages] = useState(() => Array(settings.rows * settings.cols).fill(null));\r\n  const fileInputRef = useRef(null);\r\n  const targetIndexRef = useRef(null);\r\n\r\n  const { cols, rows, pagePreset, pageWidthMm, pageHeightMm, offsetXmm, offsetYmm, gutterXmm, gutterYmm } = settings;\r\n\r\n  // Recompute array if rows/cols ever change (they're fixed by spec 3x11, but keep robust)\r\n  const totalCells = rows * cols;\r\n  React.useEffect(() => {\r\n    setCellImages((prev) => {\r\n      const next = Array(totalCells).fill(null);\r\n      for (let i = 0; i < Math.min(prev.length, next.length); i++) next[i] = prev[i];\r\n      return next;\r\n    });\r\n  }, [totalCells]);\r\n\r\n  const geometry = useMemo(() => {\r\n    const w = pageWidthMm;\r\n    const h = pageHeightMm;\r\n    const gridWidth = w - 2 * offsetXmm - (cols - 1) * gutterXmm;\r\n    const gridHeight = h - 2 * offsetYmm - (rows - 1) * gutterYmm;\r\n    const cellWidth = gridWidth / cols;\r\n    const cellHeight = gridHeight / rows;\r\n    return { pageMm: { w, h }, cellMm: { w: cellWidth, h: cellHeight } };\r\n  }, [pageWidthMm, pageHeightMm, offsetXmm, offsetYmm, gutterXmm, gutterYmm, cols, rows]);\r\n\r\n  const pickLocalFileForCell = (index) => {\r\n    targetIndexRef.current = index;\r\n    if (fileInputRef.current) fileInputRef.current.click();\r\n  };\r\n\r\n  const onLocalFileChosen = (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file || targetIndexRef.current == null) return;\r\n    const index = targetIndexRef.current;\r\n    const objectUrl = URL.createObjectURL(file);\r\n    setCellImages((prev) => {\r\n      const next = [...prev];\r\n      next[index] = { file, url: objectUrl, name: file.name, type: file.type };\r\n      return next;\r\n    });\r\n    // reset so same file can be re-picked\r\n    e.target.value = \"\";\r\n  };\r\n\r\n  const clearCell = (index) => {\r\n    setCellImages((prev) => {\r\n      const next = [...prev];\r\n      const item = next[index];\r\n      if (item?.url) URL.revokeObjectURL(item.url);\r\n      next[index] = null;\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const handleSettingNumber = (key, step = 1) => (e) => {\r\n    const val = Number(e.target.value);\r\n    setSettings((s) => ({ ...s, [key]: isNaN(val) ? s[key] : val }));\r\n  };\r\n\r\n  const handlePresetChange = (e) => {\r\n    const preset = e.target.value;\r\n    if (preset === \"Custom\") {\r\n      setSettings((s) => ({ ...s, pagePreset: preset }));\r\n    } else {\r\n      const p = PAGE_PRESETS[preset];\r\n      setSettings((s) => ({ ...s, pagePreset: preset, pageWidthMm: p.width, pageHeightMm: p.height }));\r\n    }\r\n  };\r\n\r\n  const allCellsFilled = cellImages.every((c) => c);\r\n\r\n  const downloadPdf = async () => {\r\n    // Build a 1-page PDF with images placed by exact mm coordinates\r\n    const pdfDoc = await PDFDocument.create();\r\n    const page = pdfDoc.addPage([mmToPt(settings.pageWidthMm), mmToPt(settings.pageHeightMm)]);\r\n\r\n    const embedCache = new Map();\r\n\r\n    const getEmbed = async (file) => {\r\n      const buf = await file.arrayBuffer();\r\n      if (file.type?.includes(\"png\")) {\r\n        return pdfDoc.embedPng(buf);\r\n      }\r\n      // default to jpg, pdf-lib also supports some other formats but jpg/png are safest\r\n      return pdfDoc.embedJpg(buf);\r\n    };\r\n\r\n    for (let r = 0; r < rows; r++) {\r\n      for (let c = 0; c < cols; c++) {\r\n        const idx = r * cols + c;\r\n        const item = cellImages[idx];\r\n        const xMm = offsetXmm + c * (geometry.cellMm.w + gutterXmm);\r\n        const yMmTop = offsetYmm + r * (geometry.cellMm.h + gutterYmm);\r\n        const yMmFromBottom = settings.pageHeightMm - yMmTop - geometry.cellMm.h; // PDF origin is bottom-left\r\n\r\n        // draw a light border even if empty\r\n        const rectX = mmToPt(xMm);\r\n        const rectY = mmToPt(yMmFromBottom);\r\n        const rectW = mmToPt(geometry.cellMm.w);\r\n        const rectH = mmToPt(geometry.cellMm.h);\r\n        page.drawRectangle({ x: rectX, y: rectY, width: rectW, height: rectH, borderWidth: 0.5, color: undefined, borderColor: undefined });\r\n\r\n        if (item?.file) {\r\n          let img = embedCache.get(item.file);\r\n          if (!img) {\r\n            img = await getEmbed(item.file);\r\n            embedCache.set(item.file, img);\r\n          }\r\n          // Fit image into cell while maintaining aspect ratio\r\n          const imgWpt = img.width;\r\n          const imgHpt = img.height;\r\n          const maxW = rectW;\r\n          const maxH = rectH;\r\n          const scale = Math.min(maxW / imgWpt, maxH / imgHpt);\r\n          const drawW = imgWpt * scale;\r\n          const drawH = imgHpt * scale;\r\n          const dx = rectX + (rectW - drawW) / 2;\r\n          const dy = rectY + (rectH - drawH) / 2;\r\n          page.drawImage(img, { x: dx, y: dy, width: drawW, height: drawH });\r\n        }\r\n      }\r\n    }\r\n\r\n    const bytes = await pdfDoc.save();\r\n    const blob = new Blob([bytes], { type: \"application/pdf\" });\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `labels_${settings.pagePreset || 'custom'}.pdf`;\r\n    a.click();\r\n    setTimeout(() => URL.revokeObjectURL(url), 2000);\r\n  };\r\n\r\n  const printPage = () => {\r\n    // Open a new tab with a print-optimized HTML using mm units\r\n    const w = window.open(\"\", \"_blank\");\r\n    const { w: pageW, h: pageH } = { w: settings.pageWidthMm, h: settings.pageHeightMm };\r\n    const style = `\r\n      <style>\r\n        @page { size: ${pageW}mm ${pageH}mm; margin: 0; }\r\n        * { box-sizing: border-box; }\r\n        body { margin: 0; }\r\n        .page { width: ${pageW}mm; height: ${pageH}mm; position: relative; }\r\n        .cell {\r\n          position: absolute; overflow: hidden; border: 0.3mm solid #999;\r\n          display: flex; align-items: center; justify-content: center;\r\n        }\r\n        img { max-width: 100%; max-height: 100%; display: block; }\r\n      </style>\r\n    `;\r\n\r\n    const cellsHtml = [];\r\n    for (let r = 0; r < rows; r++) {\r\n      for (let c = 0; c < cols; c++) {\r\n        const idx = r * cols + c;\r\n        const item = cellImages[idx];\r\n        const x = settings.offsetXmm + c * (geometry.cellMm.w + settings.gutterXmm);\r\n        const y = settings.offsetYmm + r * (geometry.cellMm.h + settings.gutterYmm);\r\n        const styleCell = `left:${x}mm; top:${y}mm; width:${geometry.cellMm.w}mm; height:${geometry.cellMm.h}mm;`;\r\n        const imgHtml = item?.url ? `<img src=\"${item.url}\" alt=\"cell\" />` : \"\";\r\n        cellsHtml.push(`<div class=\"cell\" style=\"${styleCell}\">${imgHtml}</div>`);\r\n      }\r\n    }\r\n\r\n    const html = `<!doctype html><html><head><meta charset='utf-8'/>${style}</head><body><div class='page'>${cellsHtml.join(\"\")}</div><script>window.onload=()=>window.print();</script></body></html>`;\r\n    w.document.open();\r\n    w.document.write(html);\r\n    w.document.close();\r\n  };\r\n\r\n  const Cell = ({ index, preview }) => {\r\n    const item = cellImages[index];\r\n    return (\r\n      <div\r\n        onClick={() => pickLocalFileForCell(index)}\r\n        className=\"relative group cursor-pointer bg-white/80 border border-gray-300 hover:border-blue-500 rounded-xl overflow-hidden flex items-center justify-center\"\r\n        title={item?.name || \"Click to choose image\"}\r\n      >\r\n        {item?.url ? (\r\n          <img src={item.url} alt=\"label\" className=\"max-w-full max-h-full\" />\r\n        ) : (\r\n          <span className=\"text-xs text-gray-400\">Click to add</span>\r\n        )}\r\n        {item && (\r\n          <button\r\n            onClick={(e) => { e.stopPropagation(); clearCell(index); }}\r\n            className=\"absolute top-1 right-1 bg-white/90 border border-gray-300 rounded-md px-1.5 py-0.5 text-xs shadow-sm hover:bg-red-50\"\r\n          >\r\n            ✕\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const GridPreview = () => {\r\n    const cells = [];\r\n    const { w: cellW, h: cellH } = geometry.cellMm;\r\n\r\n    for (let r = 0; r < rows; r++) {\r\n      for (let c = 0; c < cols; c++) {\r\n        const idx = r * cols + c;\r\n        cells.push(\r\n          <div key={idx} style={{ width: `${cellW}mm`, height: `${cellH}mm`, marginRight: c < cols - 1 ? `${gutterXmm}mm` : 0, marginBottom: r < rows - 1 ? `${gutterYmm}mm` : 0 }}>\r\n            <Cell index={idx} />\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"w-full\">\r\n        <div\r\n          className=\"mx-auto bg-[conic-gradient(at_top_left,_#fafafa,_#f1f5f9)] shadow-xl rounded-2xl p-6\"\r\n          style={{ width: `${pageWidthMm}mm` }}\r\n        >\r\n          <div\r\n            className=\"mx-auto bg-white rounded-xl border border-gray-300 p-0\"\r\n            style={{ width: `${pageWidthMm - offsetXmm * 2}mm`, padding: 0 }}\r\n          >\r\n            {/* Use padding boxes to create the outer margins visually */}\r\n            <div style={{ paddingLeft: `${offsetXmm}mm`, paddingRight: `${offsetXmm}mm`, paddingTop: `${offsetYmm}mm`, paddingBottom: `${offsetYmm}mm` }}>\r\n              <div className=\"flex flex-wrap\">\r\n                {cells}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen w-full bg-slate-50 text-slate-800\">\r\n      <input ref={fileInputRef} type=\"file\" accept=\"image/*\" className=\"hidden\" onChange={onLocalFileChosen} />\r\n\r\n      <header className=\"sticky top-0 z-10 backdrop-blur bg-white/70 border-b border-slate-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between\">\r\n          <h1 className=\"text-xl font-semibold\">Label Sheet Builder (3 × 11)</h1>\r\n          <div className=\"flex gap-2\">\r\n            <button onClick={printPage} className=\"px-3 py-2 rounded-xl border border-slate-300 shadow-sm hover:shadow bg-white\">Print</button>\r\n            <button onClick={downloadPdf} className=\"px-3 py-2 rounded-xl border border-blue-600 bg-blue-600 text-white shadow hover:opacity-95\">Download PDF</button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"max-w-7xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-[360px,1fr] gap-6\">\r\n        {/* Settings Panel */}\r\n        <section className=\"bg-white rounded-2xl shadow p-4 border border-slate-200\">\r\n          <h2 className=\"text-lg font-semibold mb-3\">Settings</h2>\r\n          <div className=\"space-y-3\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium\">Page preset</label>\r\n              <select value={pagePreset} onChange={handlePresetChange} className=\"mt-1 w-full border rounded-xl p-2\">\r\n                {Object.keys(PAGE_PRESETS).map((k) => (\r\n                  <option key={k} value={k}>{k} ({PAGE_PRESETS[k].width} × {PAGE_PRESETS[k].height} mm)</option>\r\n                ))}\r\n                <option value=\"Custom\">Custom</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-sm\">Page width (mm)</label>\r\n                <input type=\"number\" step=\"0.1\" value={pageWidthMm} onChange={handleSettingNumber(\"pageWidthMm\")} disabled={pagePreset!==\"Custom\"} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm\">Page height (mm)</label>\r\n                <input type=\"number\" step=\"0.1\" value={pageHeightMm} onChange={handleSettingNumber(\"pageHeightMm\")} disabled={pagePreset!==\"Custom\"} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-sm\">Grid offset X (mm)</label>\r\n                <input type=\"number\" step=\"0.1\" value={offsetXmm} onChange={handleSettingNumber(\"offsetXmm\")} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm\">Grid offset Y (mm)</label>\r\n                <input type=\"number\" step=\"0.1\" value={offsetYmm} onChange={handleSettingNumber(\"offsetYmm\")} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-sm\">Column spacing (mm)</label>\r\n                <input type=\"number\" step=\"0.1\" value={gutterXmm} onChange={handleSettingNumber(\"gutterXmm\")} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm\">Row spacing (mm)</label>\r\n                <input type=\"number\" step=\"0.1\" value={gutterYmm} onChange={handleSettingNumber(\"gutterYmm\")} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <div>\r\n                <label className=\"block text-sm\">Columns</label>\r\n                <input type=\"number\" value={cols} min={1} max={6} onChange={handleSettingNumber(\"cols\")} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm\">Rows</label>\r\n                <input type=\"number\" value={rows} min={1} max={50} onChange={handleSettingNumber(\"rows\")} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"pt-2 border-t\">\r\n              <label className=\"block text-sm font-medium\">Linked Google Drive folder (optional)</label>\r\n              <input type=\"url\" placeholder=\"https://drive.google.com/drive/folders/...\" value={driveFolderUrl} onChange={(e)=>setDriveFolderUrl(e.target.value)} className=\"mt-1 w-full border rounded-xl p-2\" />\r\n              <div className=\"mt-2 flex items-center gap-2\">\r\n                <input id=\"usePicker\" type=\"checkbox\" checked={useDrivePicker} onChange={(e)=>setUseDrivePicker(e.target.checked)} />\r\n                <label htmlFor=\"usePicker\" className=\"text-sm\">Enable Google Drive Picker (requires API key & client ID)</label>\r\n              </div>\r\n              {useDrivePicker && (\r\n                <button\r\n                  onClick={() => alert(\"Google Picker not configured in this preview. In your deployment, load gapi + picker APIs and call picker to insert into a selected cell.\")}\r\n                  className=\"mt-2 px-3 py-2 rounded-xl border border-slate-300 bg-white shadow hover:shadow-sm\"\r\n                >\r\n                  Pick from Drive\r\n                </button>\r\n              )}\r\n              <p className=\"text-xs text-slate-500 mt-2\">Tip: Start by clicking any cell to choose a local image. Drive integration can be added by wiring the Google Picker API to the currently selected cell index.</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Preview Panel */}\r\n        <section className=\"bg-white rounded-2xl shadow p-4 border border-slate-200\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h2 className=\"text-lg font-semibold\">Live preview</h2>\r\n            <div className=\"text-sm text-slate-500\">Cell size: {geometry.cellMm.w.toFixed(2)} × {geometry.cellMm.h.toFixed(2)} mm</div>\r\n          </div>\r\n          <GridPreview />\r\n          <div className=\"mt-4 text-xs text-slate-500\">Click a cell to add an image. Use the settings to match your label sheet. Borders are for guidance only and won’t print as thick lines.</div>\r\n        </section>\r\n      </main>\r\n\r\n      <footer className=\"max-w-7xl mx-auto px-4 py-6 text-center text-xs text-slate-500\">\r\n        Built with React + pdf-lib. Images are fit within each cell preserving aspect ratio.\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}